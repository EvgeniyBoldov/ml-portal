# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

## üöÄ –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### 1. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
```bash
# –°–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã
make build-local

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make up-local
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MinIO
```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∫–µ—Ç –¥–ª—è –º–æ–¥–µ–ª–µ–π
make init-models
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã
make demo-embedding

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç
make test-embedding
```

## üìä –ß—Ç–æ –ø–æ–ª—É—á–∏–ª–∏

‚úÖ **Model Registry** - —Ä–µ–µ—Å—Ç—Ä –º–æ–¥–µ–ª–µ–π –≤ Redis  
‚úÖ **Embedding Dispatcher** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –∑–∞–¥–∞—á  
‚úÖ **Embedding Worker** - –≤–æ—Ä–∫–µ—Ä —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏–∑ MinIO  
‚úÖ **RT/BULK –ø—Ä–æ—Ñ–∏–ª–∏** - —Ä–∞–∑–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á  
‚úÖ **Fallback** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç –Ω–∞ HTTP API  
‚úÖ **–ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è  

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ú–æ–¥–µ–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `docker-compose.local.yml`:

```yaml
environment:
  - EMB_MODEL_ID=sentence-transformers/all-MiniLM-L6-v2
  - EMB_MODEL_ALIAS=minilm
  - EMB_DIM=384
  - EMB_MAX_SEQ=256
```

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from app.services.clients import embed_texts

# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (RT)
vectors = embed_texts(["Hello world"], profile="rt")

# –ú–∞—Å—Å–æ–≤—ã–π —Ä–µ–∂–∏–º (BULK)  
vectors = embed_texts(["Hello world"], profile="bulk")
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

```bash
# –õ–æ–≥–∏ embedding worker
make logs-embedding

# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
make status

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ embedding worker
docker-compose -f docker-compose.local.yml restart embedding-worker
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Health check**: `curl http://localhost:8001/health`
- **–õ–æ–≥–∏**: `make logs-embedding`
- **–°—Ç–∞—Ç—É—Å**: `make status`

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GPU –ø–æ–¥–¥–µ—Ä–∂–∫—É
3. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Prometheus
4. –°–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∫—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª—è–º–∏

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –°–∏—Å—Ç–µ–º–∞ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ –≤–∞—à RAG.
