# =============================================================================
# ML Portal Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values as needed
# All values below are defaults for Docker development environment

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL database settings
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/app
DB_URL=postgresql://postgres:postgres@postgres:5432/app
POSTGRES_DB=app
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
PGUSER=postgres
PGPASSWORD=postgres
PGDATABASE=app

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# JWT secrets (CHANGE IN PRODUCTION!)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
PASSWORD_PEPPER=your-super-secret-password-pepper-change-this-in-production
JWT_ALGORITHM=HS256
ACCESS_TTL_SECONDS=900
REFRESH_TTL_DAYS=7
REFRESH_ROTATING=true

# =============================================================================
# PASSWORD POLICY
# =============================================================================
# Password strength requirements
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true
PASSWORD_PEPPER=your-password-pepper-here

# =============================================================================
# RATE LIMITING
# =============================================================================
# Rate limiting for authentication endpoints
RATE_LIMIT_LOGIN_ATTEMPTS=10
RATE_LIMIT_LOGIN_WINDOW=60

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Cross-Origin Resource Sharing settings
CORS_ENABLED=true
CORS_ORIGINS=*
CORS_ALLOW_CREDENTIALS=false

# =============================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# =============================================================================
# Email settings for password reset (optional)
EMAIL_ENABLED=false
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@ml-portal.local

# =============================================================================
# AUTHENTICATION MODES
# =============================================================================
# Authentication method: "bearer" or "cookie"
AUTH_MODE=bearer
COOKIE_AUTH_ENABLED=false
CSRF_ENABLED=false

# =============================================================================
# PERMISSIONS
# =============================================================================
# Allow readers to upload files (default: false)
ALLOW_READER_UPLOADS=false

# =============================================================================
# DEBUG MODE
# =============================================================================
# Debug mode for development
DEBUG=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis URL for caching and sessions
REDIS_URL=redis://redis:6379/0

# =============================================================================
# MINIO/S3 STORAGE
# =============================================================================
# MinIO S3-compatible storage settings
S3_ENDPOINT=http://minio:9000
S3_PUBLIC_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET_RAG=rag
S3_BUCKET_ANALYSIS=analysis
S3_USE_SSL=false

# =============================================================================
# QDRANT VECTOR DATABASE
# =============================================================================
# Qdrant vector database for embeddings
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=rag_chunks

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# Embeddings service
EMBEDDINGS_URL=http://emb:8001
REAL_EMBEDDINGS_URL=

# LLM service
LLM_URL=http://llm:8002
REAL_LLM_URL=

# =============================================================================
# API CONFIGURATION
# =============================================================================
# API server settings
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api
PORT=8000

# Health check settings
HEALTH_DEEP=0

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# Frontend application settings
FRONTEND_URL=http://localhost:8080
VITE_API_BASE=http://localhost:8000/api
VITE_USE_MOCKS=false

# =============================================================================
# CELERY WORKER CONFIGURATION
# =============================================================================
# Celery task queue settings
CELERY_BROKER_URL=amqp://guest:guest@rabbitmq:5672//
CELERY_RESULT_BACKEND=redis://redis:6379/1
CELERY_CONCURRENCY=2

# =============================================================================
# DEVELOPMENT/TESTING
# =============================================================================
# Test mode settings
TEST_MODE=true

# Logging level
LOG_LEVEL=INFO

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and set these for production deployment
# DATABASE_URL=postgresql://user:password@prod-db:5432/ml_portal
# REDIS_URL=redis://prod-redis:6379/0
# S3_ENDPOINT=https://your-s3-endpoint.com
# S3_PUBLIC_ENDPOINT=https://your-s3-public-endpoint.com
# S3_ACCESS_KEY=your-production-access-key
# S3_SECRET_KEY=your-production-secret-key
# QDRANT_URL=https://your-qdrant-cluster.com
# EMBEDDINGS_URL=https://your-embeddings-service.com
# LLM_URL=https://your-llm-service.com
# JWT_SECRET=your-super-secure-production-jwt-secret
# TEST_MODE=false
# LOG_LEVEL=WARNING