# ===== Auth =====
AUTH.MODE=login
JWT_SECRET=please_change_me
ACCESS_TTL_SECONDS=3600
REFRESH_TTL_DAYS=30
REFRESH_ROTATING=true

# ===== Core =====
DB.URL=postgresql+psycopg://postgres:postgres@postgres:5432/app
REDIS.URL=redis://redis:6379/0
QDRANT.URL=http://qdrant:6333

# ===== S3 / MinIO =====
# S3_ENDPOINT is used by services inside the Docker network (internal).
# S3_PUBLIC_ENDPOINT is what we return in links for users (external, e.g. https://10.4.4.2).
S3.ENDPOINT=http://minio:9000
S3.PUBLIC_ENDPOINT=https://10.4.4.2
S3.ACCESS_KEY=miniouser
S3.SECRET_KEY=miniopassword
S3.BUCKET_RAW=raw
S3.BUCKET_CANONICAL=canonical
S3.BUCKET_PREVIEW=preview
MINIO_REGION=us-east-1

# ===== Pipelines =====
EMBEDDING.MODEL=bge-m3@1.0
EMBEDDING.BATCH_SIZE=8
EMBEDDING.MAX_CONCURRENCY=2
RAG.TOP_K=5
RAG.MIN_SCORE=0.2

# ===== API / Workers =====
API_WORKERS=4
LLM_CONCURRENCY=8
EMBED_CONCURRENCY=4
OMP_NUM_THREADS=6
MKL_NUM_THREADS=6

# ===== Features =====
METRICS_ENABLED=true
HEALTH_DEEP=false
