import{r as c,j as e,u as m,N as o,O as h}from"./index-BSRK8Mud.js";import{B as g}from"./Button-B53gfBvU.js";import{u as _}from"./auth-BYZNxM5B.js";import"./http-BXh0eoWj.js";const f="_shell_1wc0f_2",u="_header_1wc0f_9",p="_brand_1wc0f_22",x="_brandName_1wc0f_24",j="_nav_1wc0f_26",v="_segWrap_1wc0f_27",N="_seg_1wc0f_27",w="_segBtn_1wc0f_29",b="_active_1wc0f_31",k="_right_1wc0f_33",B="_user_1wc0f_34",S="_main_1wc0f_38",y="_footer_1wc0f_47",s={shell:f,header:u,brand:p,brandName:x,nav:j,segWrap:v,seg:N,segBtn:w,active:b,right:k,user:B,main:S,footer:y},i="theme";function E(){const a=localStorage.getItem(i);return a==="light"||a==="dark"?a:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function A(){const[a,n]=c.useState(E());return c.useEffect(()=>{const t=document.documentElement;a==="dark"?t.removeAttribute("data-theme"):t.setAttribute("data-theme","light"),localStorage.setItem(i,a)},[a]),e.jsx("button",{onClick:()=>n(t=>t==="dark"?"light":"dark"),"aria-label":"Переключить тему",style:{background:"transparent",border:"1px solid rgba(255,255,255,.15)",color:"inherit",borderRadius:12,padding:"6px 10px",cursor:"pointer"},children:a==="light"?"☀️ Light":"🌙 Dark"})}const C=!1;function O(){const a=m(),{logout:n,user:t}=_(),l=((t==null?void 0:t.role)||"").toLowerCase()==="admin";return e.jsxs("div",{className:s.shell,children:[e.jsxs("header",{className:s.header,children:[e.jsxs("div",{className:s.brand,children:[e.jsx("img",{src:"/logo.png",alt:"Почемучка logo",onError:r=>{const d=r.currentTarget;d.style.display="none"}}),e.jsx("div",{className:s.brandName,children:"Почемучка"})]}),e.jsx("nav",{className:s.nav,children:e.jsx("div",{className:s.segWrap,children:e.jsxs("div",{className:s.seg,children:[e.jsx(o,{to:"/gpt/chat",className:({isActive:r})=>[s.segBtn,r?s.active:""].join(" "),children:"Чат"}),e.jsx(o,{to:"/gpt/analyze",className:({isActive:r})=>[s.segBtn,r?s.active:""].join(" "),children:"Аналитика"}),l&&e.jsx(o,{to:"/gpt/rag",className:({isActive:r})=>[s.segBtn,r?s.active:""].join(" "),children:"База знаний"})]})})}),e.jsxs("div",{className:s.right,children:[C,e.jsx("span",{className:s.user,children:(t==null?void 0:t.role)||""}),e.jsx(A,{}),e.jsx(g,{variant:"ghost",onClick:async()=>{await n(),a("/login")},children:"Выйти"})]})]}),e.jsx("main",{className:s.main,children:e.jsx(h,{})}),e.jsx("footer",{className:s.footer})]})}export{O as default};
