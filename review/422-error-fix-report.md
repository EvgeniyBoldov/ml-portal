# –û—Ç—á–µ—Ç –æ –Ω–∞–π–¥–µ–Ω–Ω–æ–π –ø—Ä–æ–±–ª–µ–º–µ —Å 422 –æ—à–∏–±–∫–æ–π

## üîç **–ù–∞–π–¥–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**

### **422 Unprocessable Entity –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–Ω–∞–Ω—Ç–∞/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

**–ü—Ä–∏—á–∏–Ω–∞**: `apiFetch` –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª `Content-Type: application/json` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üß™ **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**

### **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –Ω–∞–ø—Ä—è–º—É—é:**
- ‚úÖ **curl —Å –∫—É–∫–∏**: `POST /api/v1/tenants` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (200 OK)
- ‚úÖ **curl —Å –∫—É–∫–∏**: `POST /api/v1/admin/users` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (200 OK)
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫—É–∫–∏**: –†–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### **–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:**
- ‚ùå **apiFetch**: –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª `Content-Type: application/json`
- ‚ùå **422 –æ—à–∏–±–∫–∞**: FastAPI –Ω–µ –º–æ–≥ –ø–∞—Ä—Å–∏—Ç—å JSON –±–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Content-Type

## üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**

### **–û–±–Ω–æ–≤–ª–µ–Ω `apiFetch.ts`:**
```typescript
// Set Content-Type for JSON requests
if (opts.body && typeof opts.body === 'string' && !headers['Content-Type']) {
  headers['Content-Type'] = 'application/json';
}
```

### **–õ–æ–≥–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (body)
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ (JSON.stringify —Ä–µ–∑—É–ª—å—Ç–∞—Ç)
3. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ Content-Type –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —è–≤–Ω–æ
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `Content-Type: application/json`

## üìã **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**

### **–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ:**
- FastAPI —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `Content-Type` –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
- –ë–µ–∑ `Content-Type: application/json` FastAPI –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 422 –æ—à–∏–±–∫—É
- `apiFetch` –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### **–ü–æ—á–µ–º—É curl —Ä–∞–±–æ—Ç–∞–ª:**
- curl –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `Content-Type: application/json` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ JSON
- –ë—Ä–∞—É–∑–µ—Ä –∏ fetch API —Ç—Ä–µ–±—É—é—Ç —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è Content-Type

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ **422 –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã** - Content-Type —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç** - JSON –ø–∞—Ä—Å–∏—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç** - JSON –ø–∞—Ä—Å–∏—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Å–ª–æ–º–∞—é—Ç—Å—è

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–µ–∑ 422 –æ—à–∏–±–æ–∫.

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ Content-Type –∑–∞–≥–æ–ª–æ–≤–∫–∞! üéâ
